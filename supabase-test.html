<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Supabase Connection Tester — StudioOrganize</title>
  <link rel="stylesheet" href="/assets/styles.css" />
  <meta name="google-sheet-endpoint" content="">
  <style>
    :root {
      --tester-surface: var(--panel);
      --tester-surface-alt: var(--hud);
      --tester-border: var(--line);
      --tester-shadow: 0 32px 70px rgba(8, 15, 28, 0.6);
      --tester-shadow-soft: 0 22px 45px rgba(8, 15, 28, 0.45);
      --tester-input-bg: var(--field);
      --tester-input-border: var(--line);
      --tester-pill-bg: rgba(125, 211, 252, 0.18);
      --tester-pill-text: var(--brand);
      --tester-pill-error-bg: rgba(235, 87, 87, 0.22);
      --tester-pill-error-text: #ffb8c2;
      --tester-pill-success-bg: rgba(39, 174, 96, 0.26);
      --tester-pill-success-text: #73ffd3;
      --tester-log-bg: var(--dial);
      --tester-log-border: rgba(79, 123, 255, 0.2);
      --tester-log-color: var(--ink);
      --tester-note: var(--muted);
    }
    [data-theme="light"] {
      --tester-shadow: 0 24px 60px rgba(12, 20, 51, 0.16);
      --tester-shadow-soft: 0 18px 40px rgba(12, 20, 51, 0.12);
      --tester-pill-bg: rgba(37, 99, 235, 0.12);
      --tester-pill-text: #1e3a8a;
      --tester-pill-error-bg: rgba(235, 87, 87, 0.12);
      --tester-pill-error-text: #d42a2a;
      --tester-pill-success-bg: rgba(34, 197, 94, 0.14);
      --tester-pill-success-text: #15803d;
      --tester-log-bg: #0a1630;
      --tester-log-border: rgba(12, 20, 51, 0.12);
      --tester-log-color: #f4f7ff;
    }
    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    .tester {
      max-width: 960px;
      margin: 0 auto;
      padding: 2rem 1.5rem 4rem;
      display: grid;
      gap: 2rem;
    }
    .tester__intro {
      background: var(--tester-surface);
      border: 1px solid var(--tester-border);
      border-radius: 18px;
      padding: 1.75rem 1.9rem;
      box-shadow: var(--tester-shadow);
    }
    .tester__intro h1 {
      margin: 0 0 0.75rem;
      font-size: clamp(1.75rem, 2vw + 1rem, 2.5rem);
    }
    .tester__intro p {
      color: var(--tester-note);
      line-height: 1.6;
    }
    .tester__layout {
      display: grid;
      gap: 1.5rem;
    }
    @media (min-width: 860px) {
      .tester__layout {
        grid-template-columns: 1fr 1fr;
      }
    }
    .card {
      background: var(--tester-surface);
      border: 1px solid var(--tester-border);
      border-radius: 18px;
      padding: 1.5rem;
      box-shadow: var(--tester-shadow-soft);
      display: grid;
      gap: 1rem;
    }
    .card h2 {
      margin: 0;
      font-size: 1.25rem;
    }
    form {
      display: grid;
      gap: 0.75rem;
    }
    fieldset {
      border: 1px dashed var(--tester-border);
      border-radius: 14px;
      padding: 1rem;
      background: var(--tester-surface-alt);
      display: grid;
      gap: 0.75rem;
    }
    fieldset:disabled {
      opacity: 0.55;
    }
    label {
      display: grid;
      gap: 0.35rem;
      font-weight: 600;
    }
    input,
    textarea {
      font: inherit;
      padding: 0.65rem 0.75rem;
      border-radius: 10px;
      border: 1px solid var(--tester-input-border);
      background: var(--tester-input-bg);
      color: inherit;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }
    input:focus-visible,
    textarea:focus-visible {
      border-color: var(--acc);
      box-shadow: 0 0 0 2px rgba(95, 168, 255, 0.35);
      box-shadow: 0 0 0 2px color-mix(in srgb, var(--acc) 32%, transparent);
      outline: none;
    }
    button {
      font: inherit;
      padding: 0.6rem 1rem;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      color: var(--cta-text);
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(79, 123, 255, 0.28);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }
    button[disabled] {
      cursor: not-allowed;
      opacity: 0.6;
    }
    button:not([disabled]):hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(79, 123, 255, 0.32);
    }
    button:focus-visible {
      outline: 2px solid var(--acc);
      outline-offset: 3px;
    }
    .btn-secondary {
      background: transparent;
      color: inherit;
      border: 1px solid var(--tester-input-border);
      box-shadow: none;
    }
    .log {
      background: var(--tester-log-bg);
      color: var(--tester-log-color);
      border-radius: 16px;
      padding: 1.25rem;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      max-height: 400px;
      overflow: auto;
      white-space: pre-wrap;
      line-height: 1.4;
      border: 1px solid var(--tester-log-border);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
    }
    .status-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1.5rem;
      align-items: center;
      font-size: 0.95rem;
    }
    .status-row strong {
      font-size: 1rem;
    }
    .form-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
      font-weight: 600;
    }
    .form-checkbox input[type="checkbox"] {
      width: 1.1rem;
      height: 1.1rem;
      margin-top: 0.2rem;
    }
    .form-checkbox span {
      font-weight: 400;
      color: var(--tester-note);
      line-height: 1.45;
    }
    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      background: var(--tester-pill-bg);
      color: var(--tester-pill-text);
      border-radius: 999px;
      padding: 0.25rem 0.9rem;
      font-weight: 600;
      border: 1px solid rgba(125, 211, 252, 0.3);
      border: 1px solid color-mix(in srgb, var(--tester-pill-text) 35%, transparent);
    }
    .status-pill[data-state="signed-out"] {
      background: var(--tester-pill-error-bg);
      color: var(--tester-pill-error-text);
      border-color: rgba(235, 87, 87, 0.28);
      border-color: color-mix(in srgb, var(--tester-pill-error-text) 30%, transparent);
    }
    .status-pill[data-state="signed-in"] {
      background: var(--tester-pill-success-bg);
      color: var(--tester-pill-success-text);
      border-color: rgba(115, 253, 208, 0.28);
      border-color: color-mix(in srgb, var(--tester-pill-success-text) 35%, transparent);
    }
    .note {
      font-size: 0.9rem;
      line-height: 1.55;
      color: var(--tester-note);
    }
    code {
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      padding: 0.15rem 0.4rem;
      border-radius: 6px;
      background: rgba(79, 123, 255, 0.12);
      background: color-mix(in srgb, var(--tester-border) 20%, transparent);
      border: 1px solid rgba(79, 123, 255, 0.25);
      border: 1px solid color-mix(in srgb, var(--tester-border) 45%, transparent);
      color: inherit;
    }
    @media (max-width: 600px) {
      .tester {
        padding: 1.75rem 1.25rem 3rem;
      }
      .tester__intro,
      .card {
        border-radius: 16px;
      }
    }
  </style>
</head>
<body>
  <header class="nav">
      <a class="brand brand--logo" href="/" aria-label="StudioOrganize home">
    <img class="brand__logo" src="data:image/webp;base64,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\" alt="StudioOrganize" height="32" data-logo-dark="data:image/webp;base64,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\" data-logo-light="data:image/webp;base64,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\" />
  </a>
    <nav class="menu">
      <div class="dropdown">
        <button class="dropbtn dropbtn--plain" type="button">Use Cases</button>
        <div class="dropdown-content">
          <a href="/use-cases/">All Use Cases</a>
          <a href="/use-cases/generate-ideas.html">Generate Ideas</a>
          <a href="/use-cases/screenplay.html">Screenplay Script</a>
          <a href="/use-cases/character-design.html">Character Design</a>
          <a href="/use-cases/set-design.html">Set / Production Design</a>
        </div>
      </div>
      <a class="menu__link menu__link--plain" href="https://finishthatstory.com" target="_blank" rel="noopener noreferrer">FinishThatStory.com</a>
      <div class="menu__actions">
        <button class="theme-toggle theme-toggle--icon" type="button" data-theme-toggle aria-pressed="false">
          <span class="sr-only">Toggle theme</span>
          <span class="theme-toggle__icon" aria-hidden="true" data-theme-icon>☀️</span>
        </button>
        <a class="menu__cta" href="https://studioorganize.com/supabase-test.html" data-auth-link>Sign up / Log in</a>
        <div class="dropdown" data-account-menu hidden>
          <button class="menu__cta" type="button" data-account-button>Account</button>
          <div class="dropdown-content">
            <a href="/account.html">My Creator Page</a>
            <a href="/product/personal.html">My Subscription</a>
            <a href="#" data-account-logout>Log out</a>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <main class="tester">
    <section class="tester__intro">
      <h1>Supabase connection tester</h1>
      <p>This page creates a plain Supabase client with the project's anon key so we can quickly verify read and write access. Use the forms below to sign up or sign in, fetch your linked profile row, and create a throwaway scene record.</p>
      <div class="status-row">
        <strong>Session:</strong>
        <span class="status-pill" data-session-indicator data-state="signed-out">Signed out</span>
        <span data-session-details>No active session</span>
      </div>
    </section>

    <div class="tester__layout">
      <section class="card">
        <h2>Authentication</h2>
        <p class="note">The sign-up form stores your name in Supabase auth metadata. After confirming the account, sign in to test database queries.</p>

        <form id="signup-form">
          <fieldset>
            <legend>Sign up</legend>
            <label>
              Name
              <input type="text" name="name" autocomplete="name" placeholder="Ada Lovelace" />
            </label>
            <label>
              Email
              <input type="email" name="email" autocomplete="email" placeholder="you@example.com" required />
            </label>
            <label>
              Password
              <input type="password" name="password" autocomplete="new-password" minlength="8" placeholder="At least 8 characters" required />
            </label>
            <label class="form-checkbox">
              <input type="checkbox" name="marketing_opt_out" value="yes" />
              <span>I prefer <strong>not</strong> to receive updates about StudioOrganize sister products.</span>
            </label>
            <button type="submit">Send sign-up request</button>
          </fieldset>
        </form>

        <form id="login-form">
          <fieldset>
            <legend>Sign in</legend>
            <label>
              Email
              <input type="email" name="email" autocomplete="email" placeholder="you@example.com" required />
            </label>
            <label>
              Password
              <input type="password" name="password" autocomplete="current-password" required />
            </label>
            <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
              <button type="submit">Sign in</button>
              <button type="button" class="btn-secondary" data-signout>Sign out</button>
            </div>
          </fieldset>
        </form>
      </section>

      <section class="card">
        <h2>Profile data</h2>
        <p class="note">These helpers call <code>public.profiles</code>. Row Level Security means you must be signed in before they return data.</p>

        <fieldset data-requires-auth disabled>
          <legend>Fetch current profile</legend>
          <button type="button" class="btn-secondary" data-fetch-profile>Load profile row</button>
        </fieldset>

        <form id="profile-form">
          <fieldset data-requires-auth disabled>
            <legend>Update profile</legend>
            <label>
              Full name
              <input type="text" name="full_name" placeholder="Grace Hopper" />
            </label>
            <label>
              Studio name
              <input type="text" name="studio_name" placeholder="StudioOrganize" />
            </label>
            <label>
              Phone number
              <input type="tel" name="phone" placeholder="123-456-7890" />
            </label>
            <button type="submit">Save profile details</button>
          </fieldset>
        </form>
      </section>
    </div>

    <section class="card">
      <h2>Scene sandbox</h2>
      <p class="note">Scenes are tied to your profile via <code>owner_id</code>. Use these to confirm insert and select permissions on the new tables.</p>

      <form id="scene-form">
        <fieldset data-requires-auth disabled>
          <legend>Create a test scene</legend>
          <label>
            Scene title
            <input type="text" name="title" placeholder="INT. SOUNDSTAGE — DAY" required />
          </label>
          <label>
            Synopsis
            <textarea name="synopsis" rows="3" placeholder="Short overview of what happens..."></textarea>
          </label>
          <button type="submit">Insert scene</button>
        </fieldset>
      </form>

      <fieldset data-requires-auth disabled>
        <legend>Load latest scenes</legend>
        <button type="button" class="btn-secondary" data-load-scenes>Fetch scenes for current user</button>
      </fieldset>
    </section>

    <section class="card">
      <h2>Event log</h2>
      <p class="note">Each action appends to the log below. Errors are highlighted so we can quickly spot permission issues.</p>
      <div class="log" data-log>Ready.</div>
    </section>
  </main>

  <script type="module" src="/assets/main.js"></script>

  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';

    const SUPABASE_URL = 'https://ycgqgkwwitqunabowswi.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljZ3Fna3d3aXRxdW5hYm93c3dpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNTg2NTAsImV4cCI6MjA3NDczNDY1MH0.W0mKqZlHVn6tRYSyZ4VRK4zCpCPC1ICwqtqoWrQMBuU';

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    const logEl = document.querySelector('[data-log]');
    const sessionIndicator = document.querySelector('[data-session-indicator]');
    const sessionDetails = document.querySelector('[data-session-details]');
    const authRequiredBlocks = Array.from(document.querySelectorAll('[data-requires-auth]'));
    const signoutButton = document.querySelector('[data-signout]');
    const fetchProfileButton = document.querySelector('[data-fetch-profile]');
    const loadScenesButton = document.querySelector('[data-load-scenes]');
    const authLink = document.querySelector('[data-auth-link]');
    const accountMenu = document.querySelector('[data-account-menu]');
    const accountButton = document.querySelector('[data-account-button]');
    const accountLogoutLink = document.querySelector('[data-account-logout]');
    const sheetEndpoint = document.querySelector('meta[name="google-sheet-endpoint"]')?.content?.trim() || '';

    function toggleElementVisibility(element, shouldShow) {
      if (!element) return;
      if (shouldShow) {
        element.hidden = false;
        element.removeAttribute('aria-hidden');
        element.style.display = '';
      } else {
        element.hidden = true;
        element.setAttribute('aria-hidden', 'true');
        element.style.display = 'none';
      }
    }

    const state = {
      session: null
    };

    function log(message, payload, level = 'info') {
      const time = new Date().toLocaleTimeString();
      let entry = `[${time}] ${message}`;
      if (payload !== undefined) {
        try {
          entry += `\n${JSON.stringify(payload, null, 2)}`;
        } catch (error) {
          entry += `\n${String(payload)}`;
        }
      }
      const wrapper = document.createElement('div');
      wrapper.textContent = entry;
      if (level === 'error') {
        wrapper.style.color = '#ff8b8b';
      } else if (level === 'success') {
        wrapper.style.color = '#73ffd3';
      }
      logEl.prepend(wrapper);
    }

    async function forwardSignupToSheet(details) {
      if (!sheetEndpoint) {
        log('Skipping Google Sheets capture because no endpoint is configured.');
        return;
      }
      try {
        const response = await fetch(sheetEndpoint, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            name: details.name || '',
            email: details.email,
            marketingOptOut: details.marketingOptOut,
            consentCapturedAt: new Date().toISOString(),
            source: 'supabase-test-signup'
          })
        });
        if (!response.ok) {
          throw new Error(`Sheet endpoint responded with ${response.status}`);
        }
        log('Captured signup consent in Google Sheets.', null, 'success');
      } catch (error) {
        log('Failed to capture signup consent in Google Sheets.', error, 'error');
      }
    }

    function setAuthDependentState(isAuthed) {
      authRequiredBlocks.forEach((block) => {
        if (isAuthed) {
          block.removeAttribute('disabled');
        } else {
          block.setAttribute('disabled', '');
        }
      });
    }

    function updateSession(newSession) {
      state.session = newSession;
      if (newSession) {
        sessionIndicator.dataset.state = 'signed-in';
        sessionIndicator.textContent = 'Signed in';
        const email = newSession.user?.email || 'Unknown user';
        sessionDetails.textContent = `User: ${email}`;
        setAuthDependentState(true);
        toggleElementVisibility(authLink, false);
        toggleElementVisibility(accountMenu, true);
        if (accountButton) {
          accountButton.textContent = 'Account';
        }
      } else {
        sessionIndicator.dataset.state = 'signed-out';
        sessionIndicator.textContent = 'Signed out';
        sessionDetails.textContent = 'No active session';
        setAuthDependentState(false);
        toggleElementVisibility(authLink, true);
        toggleElementVisibility(accountMenu, false);
        if (accountButton) {
          accountButton.textContent = 'Account';
        }
      }
    }

    async function handleSignOut() {
      log('Signing out...');
      const { error } = await supabase.auth.signOut();
      if (error) {
        log('Sign-out failed', error, 'error');
        return;
      }
      log('Signed out.');
    }

    async function refreshSession() {
      const { data, error } = await supabase.auth.getSession();
      if (error) {
        log('Failed to fetch session', error, 'error');
        return;
      }
      updateSession(data.session ?? null);
    }

    supabase.auth.onAuthStateChange((_event, session) => {
      updateSession(session ?? null);
      log(`Auth state changed: ${session ? 'signed in' : 'signed out'}`);
    });

    const signupForm = document.querySelector('#signup-form');
    if (signupForm) {
      signupForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const form = event.currentTarget;
        const formData = new FormData(form);
        const email = (formData.get('email') || '').toString();
        const password = (formData.get('password') || '').toString();
        const name = (formData.get('name') || '').toString();
        const marketingOptOut = formData.get('marketing_opt_out') === 'yes';
        log('Submitting sign-up request...');
        const { data, error } = await supabase.auth.signUp({
          email,
          password,
          options: {
            data: name ? { full_name: name } : {}
          }
        });
        if (error) {
          log('Sign-up failed', error, 'error');
          return;
        }
        log('Sign-up request sent. Check for confirmation email.', data, 'success');
        await forwardSignupToSheet({ name, email, marketingOptOut });
        form.reset();
      });
    }

    const loginForm = document.querySelector('#login-form');
    if (loginForm) {
      loginForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const form = event.currentTarget;
        const formData = new FormData(form);
        const email = formData.get('email');
        const password = formData.get('password');
        log('Attempting to sign in...');
        const { data, error } = await supabase.auth.signInWithPassword({ email, password });
        if (error) {
          log('Sign-in failed', error, 'error');
          return;
        }
        log('Signed in successfully.', data, 'success');
        window.location.href = '/account.html';
        form.reset();
      });
    }

    if (signoutButton) {
      signoutButton.addEventListener('click', () => {
        handleSignOut();
      });
    }

    if (accountLogoutLink) {
      accountLogoutLink.addEventListener('click', (event) => {
        event.preventDefault();
        handleSignOut();
      });
    }

    async function requireSession(actionDescription) {
      if (!state.session) {
        log(`${actionDescription} requires a signed-in user.`, null, 'error');
        return null;
      }
      return state.session;
    }

    if (fetchProfileButton) {
      fetchProfileButton.addEventListener('click', async () => {
        const session = await requireSession('Fetching the profile');
        if (!session) return;
        log('Loading profile row...');
        const { data, error } = await supabase
          .from('profiles')
          .select('id, email, full_name, studio_name, phone, created_at, updated_at')
          .eq('id', session.user.id)
          .maybeSingle();
        if (error) {
          log('Profile fetch failed', error, 'error');
          return;
        }
        log('Profile row loaded.', data, 'success');
      });
    }

    const profileForm = document.querySelector('#profile-form');
    if (profileForm) {
      profileForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const session = await requireSession('Updating the profile');
        if (!session) return;
        const form = event.currentTarget;
        const formData = new FormData(form);
        const payload = {};
        ['full_name', 'studio_name', 'phone'].forEach((field) => {
          const value = formData.get(field);
          payload[field] = value ? String(value) : null;
        });
        log('Saving profile details...', payload);
        const { data, error } = await supabase
          .from('profiles')
          .update(payload)
          .eq('id', session.user.id)
          .select()
          .maybeSingle();
        if (error) {
          log('Profile update failed', error, 'error');
          return;
        }
        log('Profile updated.', data, 'success');
        form.reset();
      });
    }

    const sceneForm = document.querySelector('#scene-form');
    if (sceneForm) {
      sceneForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const session = await requireSession('Creating a scene');
        if (!session) return;
        const form = event.currentTarget;
        const formData = new FormData(form);
        const title = String(formData.get('title'));
        const synopsis = formData.get('synopsis');
        const slug = title
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-+|-+$/g, '')
          .slice(0, 64);
        const payload = {
          owner_id: session.user.id,
          title,
          synopsis: synopsis ? String(synopsis) : null,
          slug: slug || null,
          script_order: Math.floor(Math.random() * 100),
          cards: [],
          elements: [],
          sounds: []
        };
        log('Inserting scene...', payload);
        const { data, error } = await supabase
          .from('scenes')
          .insert(payload)
          .select()
          .maybeSingle();
        if (error) {
          log('Scene insert failed', error, 'error');
          return;
        }
        log('Scene inserted successfully.', data, 'success');
        form.reset();
      });
    }

    if (loadScenesButton) {
      loadScenesButton.addEventListener('click', async () => {
        const session = await requireSession('Loading scenes');
        if (!session) return;
        log('Fetching scenes for current user...');
        const { data, error } = await supabase
          .from('scenes')
          .select('id, title, synopsis, created_at, updated_at')
          .eq('owner_id', session.user.id)
          .order('created_at', { ascending: false })
          .limit(10);
        if (error) {
          log('Scene fetch failed', error, 'error');
          return;
        }
        log('Fetched scenes.', data ?? [], 'success');
      });
    }

    refreshSession().catch((error) => {
      log('Unexpected error while initializing session', error, 'error');
    });
  </script>
</body>
</html>
